/* =========================
   BG SHIMMER (all devices)
   - behind windows
   - no click blocking
   ========================= */

:root{
  --shimmer-opacity: 0.22;     /* 기본 강도 */
  --shimmer-speed-1: 6.5s;
  --shimmer-speed-2: 9.5s;
  --shimmer-speed-3: 13s;
  --shimmer-blur: 0px;         /* 필요하면 0.5~1px */
}

/* 레이어 하나만 추가(HTML 수정 없이 body::before로 깔기) */
body::before{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;                 /* 스티커/반짝이 레이어는 바닥 */
  pointer-events: none;
  opacity: var(--shimmer-opacity);

  /* “아련한” 느낌: 작은 빛 점들이 살짝 생겼다 사라짐 */
  background:
    radial-gradient(2px 2px at 12% 18%, rgba(255,255,255,0.75), transparent 55%),
    radial-gradient(1.5px 1.5px at 28% 62%, rgba(255,255,255,0.60), transparent 55%),
    radial-gradient(2px 2px at 44% 30%, rgba(255,255,255,0.70), transparent 55%),
    radial-gradient(1.5px 1.5px at 66% 78%, rgba(255,255,255,0.55), transparent 55%),
    radial-gradient(2px 2px at 82% 34%, rgba(255,255,255,0.65), transparent 55%),
    radial-gradient(1.2px 1.2px at 92% 64%, rgba(255,255,255,0.55), transparent 55%);
  filter: blur(var(--shimmer-blur));

  /* 서로 다른 박자로 “반짝” */
  animation: shimmerA var(--shimmer-speed-1) ease-in-out infinite;
}

/* 두 번째 레이어(조금 더 큰 빛) */
body::after{
  content:"";
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  opacity: calc(var(--shimmer-opacity) * 0.85);

  background:
    radial-gradient(4px 4px at 18% 40%, rgba(255,255,255,0.35), transparent 60%),
    radial-gradient(5px 5px at 52% 72%, rgba(255,255,255,0.28), transparent 60%),
    radial-gradient(4px 4px at 78% 18%, rgba(255,255,255,0.30), transparent 60%),
    radial-gradient(6px 6px at 88% 86%, rgba(255,255,255,0.22), transparent 60%);
  animation: shimmerB var(--shimmer-speed-2) ease-in-out infinite;
}

/* 창/버튼은 항상 위로(혹시 모를 z-index 안전장치) */
.win, .dm-fab, .dm-backdrop { position: relative; z-index: 10; }
.wallpaper { z-index: -1; } /* 너 코드에 fixed로 깔려있어서 안전하게 뒤로 */

/* ===== 애니메이션 ===== */
@keyframes shimmerA{
  0%   { opacity: calc(var(--shimmer-opacity) * 0.55); transform: translateY(0); }
  35%  { opacity: calc(var(--shimmer-opacity) * 1.00); }
  60%  { opacity: calc(var(--shimmer-opacity) * 0.40); transform: translateY(-1px); }
  100% { opacity: calc(var(--shimmer-opacity) * 0.55); transform: translateY(0); }
}

@keyframes shimmerB{
  0%   { opacity: calc(var(--shimmer-opacity) * 0.30); }
  40%  { opacity: calc(var(--shimmer-opacity) * 0.85); }
  70%  { opacity: calc(var(--shimmer-opacity) * 0.25); }
  100% { opacity: calc(var(--shimmer-opacity) * 0.30); }
}

/* =========================
   Device tuning
   ========================= */

/* 모바일: 너무 눈에 띄지 않게 */
@media (max-width: 560px){
  :root{ --shimmer-opacity: 0.16; }
}

/* 태블릿 */
@media (min-width: 561px) and (max-width: 1024px){
  :root{ --shimmer-opacity: 0.20; }
}

/* PC: 살짝 더 살아도 예쁨 */
@media (min-width: 1025px){
  :root{ --shimmer-opacity: 0.24; }
}
