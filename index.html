<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>JJKR COMMUNITY</title>

  <style>
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Tahoma, Verdana, Arial, sans-serif;
      overflow: hidden;
      background: #000;
    }

    :root{
      --titlebar-top: #f7f7f7;
      --titlebar-bot: #e9e9e9;

      --frame: rgba(255,255,255,0.60);
      --glass: rgba(255,255,255,0.40);
      --border: rgba(0,0,0,0.30);

      --shadow: 0 12px 30px rgba(0,0,0,0.22);
      --shadow-strong: 0 18px 46px rgba(0,0,0,0.30);

      --text: #1b1b1b;
      --muted: rgba(0,0,0,0.55);
    }

    .wallpaper {
      position: fixed;
      inset: 0;
      background-image: url("bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: saturate(0.95) contrast(0.98);
      transform: scale(1.02);
    }

    .wallpaper::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(1200px 600px at 20% 15%, rgba(255,255,255,0.30), transparent 60%),
        radial-gradient(900px 500px at 80% 25%, rgba(255,255,255,0.22), transparent 55%),
        radial-gradient(900px 700px at 55% 80%, rgba(255,255,255,0.18), transparent 60%),
        linear-gradient(to bottom, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      pointer-events:none;
    }

    .desk {
      position: fixed;
      inset: 0;
      pointer-events: none;
    }

    .win {
      position: absolute;
      width: 420px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      background: var(--frame);

      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);

      pointer-events: auto;
      user-select: none;
    }
    .win.is-front { box-shadow: var(--shadow-strong); }

    .titlebar {
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 8px 0 10px;

      background: linear-gradient(to bottom, var(--titlebar-top), var(--titlebar-bot));
      border-bottom: 1px solid rgba(0,0,0,0.18);

      color: #222;
      text-shadow: none;
      cursor: grab;
    }
    .titlebar:active { cursor: grabbing; }

    .title-left {
      display: flex;
      align-items: center;
      gap: 8px;
      min-width: 0;
    }

    .dot {
      width: 10px;
      height: 10px;
      border-radius: 2px;
      border: 1px solid rgba(0,0,0,0.22);
      background: rgba(255,255,255,0.75);
      flex: 0 0 auto;
    }

    .title {
      font-size: 12px;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      max-width: 280px;
    }

    .title-btns {
      display: flex;
      gap: 6px;
      flex: 0 0 auto;
    }

    .btn {
      width: 16px;
      height: 16px;
      border-radius: 2px;
      border: 1px solid rgba(0,0,0,0.35);
      background: rgba(255,255,255,0.85);
      box-shadow: inset 0 -1px 0 rgba(0,0,0,0.12);
    }

    .content {
      background: var(--glass);
      padding: 8px;
    }

    .media {
      width: 100%;
      aspect-ratio: 16 / 9;
      border-radius: 6px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,0.18);
      background: rgba(255,255,255,0.35);
    }
    .media img{
      width: 100%;
      height: 100%;
      object-fit: cover;
      display:block;
    }

    .meta {
      margin-top: 6px;
      display:flex;
      align-items:center;
      justify-content: space-between;
      font-size: 11px;
      color: var(--muted);
      padding: 4px 6px;
      border-radius: 6px;
      background: rgba(255,255,255,0.55);
      border: 1px solid rgba(0,0,0,0.12);
    }

    .note {
      padding: 10px 10px 12px;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.14);
      background: rgba(255,255,255,0.62);
      color: #222;
      font-size: 13px;
      line-height: 1.35;
    }
    .note b { display:block; margin-bottom: 6px; }
    .note ul { margin: 8px 0 0 18px; padding:0; }
    .note li { margin: 3px 0; }
    .note a { color:#0b57d0; text-decoration: underline; }

    .taskbar {
      position: fixed;
      left: 0;
      right: 0;
      bottom: 0;
      height: 44px;
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 0 12px;

      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);

      border-top: 1px solid rgba(0,0,0,0.18);
    }

    .start {
      height: 30px;
      padding: 0 12px;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.22);
      background: rgba(255,255,255,0.80);
      font-weight: 700;
      font-size: 12px;
      display:flex;
      align-items:center;
      gap: 8px;
      cursor: pointer;
    }

    .brand {
      font-size: 13px;
      color: #222;
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    .spacer { flex: 1; }
    .clock {
      font-size: 12px;
      color: rgba(0,0,0,0.65);
      font-variant-numeric: tabular-nums;
    }

    @media (max-width: 480px){
      .win { width: 340px; }
      .title { max-width: 220px; }
    }

    /* ===== YouTube playlist window ===== */
    .yt-window { width: 280px; }      /* âœ… ì‚´ì§ í‚¤ì›€ */
    .yt-window .content { padding: 0; background: #fff; }
    .yt-window iframe {
      width: 100%;
      height: 190px;                  /* âœ… ì‚´ì§ í‚¤ì›€(ìŒì†Œê±° ë²„íŠ¼ ëœ¨ê²Œ) */
      border: 0;
      display: block;
    }

    .yt-window .titlebar .buttons {
      display: flex;
      gap: 6px;
      align-items: center;
    }
    .yt-window .sound-btn {
      font-size: 12px;
      padding: 2px 8px;
      border: 1px solid rgba(0,0,0,0.25);
      border-radius: 6px;
      background: rgba(255,255,255,0.85);
      cursor: pointer;
    }
    .yt-window .sound-btn:active { transform: translateY(1px); }
  </style>
</head>

<body>
  <div class="wallpaper"></div>

  <div class="desk" id="desk">

    <!-- 0) ê³µì§€/ê²Œì‹œíŒ ì•ˆë‚´ ì°½ -->
    <div class="win is-front" data-key="notice" style="left:18px; top:18px; width: 260px;" data-z="50">
      <div class="titlebar">
        <div class="title-left">
          <div class="dot"></div>
          <div class="title">êµ¬ì¸ ê²Œì‹œíŒ</div>
        </div>
        <div class="title-btns">
          <div class="btn"></div><div class="btn"></div><div class="btn"></div>
        </div>
      </div>
      <div class="content">
        <div class="note">
          <b>Dear Miracle</b>
          ê°€ê°œì¥ ê¸°ê°„ ë™ì•ˆë§Œ ìš´ì˜í•©ë‹ˆë‹¤.
          <ul>
            <li>êµ¬ì¸ê²Œì‹œíŒ: ì „ì²´ ê³µê°œ</li>
            <li>ì»¨íƒ: ë¹„ë°€ëŒ“ê¸€(ê´€ë¦¬ì+ê¸€ì“´ì´)</li>
            <li>ì™„ë£Œ ì‹œ ê´€ê³„ë€ í•œ ì¤„ ê¸°ì¬</li>
          </ul>
          <div style="margin-top:10px;">
            ğŸ‘‰ <a href="board.html">ê²Œì‹œíŒ ë“¤ì–´ê°€ê¸°</a>
          </div>
        </div>
      </div>
    </div>

    <!-- 1 -->
    <div class="win" data-key="w1" style="left:270px; top:70px;" data-z="10">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_002.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img01.jpg" alt=""></div>
        <div class="meta"><span>Preview Â· File Â· Edit Â· View</span><span>â€”</span></div>
      </div>
    </div>

    <!-- 2 -->
    <div class="win" data-key="w2" style="left:510px; top:92px; width: 360px;" data-z="11">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_006.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img02.jpg" alt=""></div>
        <div class="meta"><span>00:17</span><span> </span></div>
      </div>
    </div>

    <!-- 3 -->
    <div class="win" data-key="w3" style="left:210px; top:250px; width: 520px;" data-z="12">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_003.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img03.jpg" alt=""></div>
        <div class="meta"><span>â–¶ 02:47</span><span> </span></div>
      </div>
    </div>

    <!-- 4 (âœ… ì˜¤ë¥˜ ìˆ˜ì • ì™„ë£Œ) -->
    <div class="win" data-key="w4" style="left:40px; top:520px; width: 440px;" data-z="13">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_004.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img04.jpg" alt=""></div>
        <div class="meta"><span>Saved 1 min ago</span><span> </span></div>
      </div>
    </div>

    <!-- 5 -->
    <div class="win" data-key="w5" style="left:380px; top:520px; width: 520px;" data-z="14">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_005.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img05.jpg" alt=""></div>
        <div class="meta"><span>Continue listening?</span><span> </span></div>
      </div>
    </div>

    <!-- 6 -->
    <div class="win" data-key="w6" style="left:760px; top:290px; width: 260px;" data-z="15">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_007.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img06.jpg" alt=""></div>
        <div class="meta"><span> </span><span> </span></div>
      </div>
    </div>

    <!-- 7 -->
    <div class="win" data-key="w7" style="left:860px; top:70px; width: 260px;" data-z="16">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_008.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img07.jpg" alt=""></div>
        <div class="meta"><span> </span><span> </span></div>
      </div>
    </div>

    <!-- 8 -->
    <div class="win" data-key="w8" style="left:880px; top:430px; width: 320px;" data-z="17">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_009.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img08.jpg" alt=""></div>
        <div class="meta"><span> </span><span> </span></div>
      </div>
    </div>

    <!-- 9 -->
    <div class="win" data-key="w10" style="left:620px; top:360px; width: 360px;" data-z="18">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">0722_1029_010.mp4</div></div>
        <div class="title-btns"><div class="btn"></div><div class="btn"></div><div class="btn"></div></div>
      </div>
      <div class="content">
        <div class="media"><img src="img09.jpg" alt=""></div>
        <div class="meta"><span> </span><span> </span></div>
      </div>
    </div>

    <!-- ğŸµ YouTube Playlist Window (âœ… win í´ë˜ìŠ¤ë¼ ë“œë˜ê·¸/ì•ìœ¼ë¡œì˜¤ê¸° ê°™ì´ ë¨) -->
    <div class="win yt-window" data-key="yt" id="ytWin" style="top:260px; left:40px;" data-z="9">
      <div class="titlebar" id="ytDrag">
        <div class="title-left">
          <div class="dot"></div>
          <div class="title">0722_1029_011.mp4</div>
        </div>
        <div class="title-btns">
          <button class="sound-btn" id="ytSoundBtn">ğŸ”‡</button>
          <div class="btn"></div><div class="btn"></div><div class="btn"></div>
        </div>
      </div>

      <div class="content">
        <iframe
          id="ytFrame"
          src="https://www.youtube.com/embed/videoseries?list=PLUE3Cb-ZSnOeLPneQRPY76iI9h9NCQMp6&autoplay=1&loop=1&mute=1"
          allow="autoplay; encrypted-media"
          allowfullscreen>
        </iframe>
      </div>
    </div>

  </div>

  <div class="taskbar">
    <div class="start" onclick="alert('Start ë©”ë‰´ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ!')">Start</div>
    <div class="brand">JJKR COMMUNITY</div>
    <div class="spacer"></div>
    <div class="clock" id="clock">--:--</div>
  </div>

  <script>
  // ===== ì°½ ë“œë˜ê·¸ + ì•ìœ¼ë¡œ ê°€ì ¸ì˜¤ê¸° + (ì²« ë¡œë”©) í™”ë©´ë³„ ìë™ ë°°ì¹˜ =====
  const wins = Array.from(document.querySelectorAll(".win"));
  let topZ = 100;
  let hasUserMoved = false; // ë“œë˜ê·¸í•œ ë’¤ì—” ìë™ë°°ì¹˜ê°€ ë‹¤ì‹œ ë®ì–´ì“°ì§€ ì•Šê²Œ

  function bringToFront(win){
    topZ += 1;
    win.style.zIndex = topZ;
    wins.forEach(w => w.classList.remove("is-front"));
    win.classList.add("is-front");
  }

  function clamp(n, min, max){ return Math.min(Math.max(n, min), max); }

  function place(win, x01, y01){
    // x01/y01: 0~1 ë¹„ìœ¨ ì¢Œí‘œ(í™”ë©´ì— ë§ì¶° í¼ì§€ê²Œ)
    const taskbar = document.querySelector(".taskbar");
    const taskH = taskbar ? taskbar.offsetHeight : 44;

    const vw = window.innerWidth;
    const vh = window.innerHeight;

    const marginX = 18;
    const marginTop = 18;
    const marginBottom = taskH + 18;

    const w = win.offsetWidth;
    const h = win.offsetHeight;

    const usableW = vw - marginX*2 - w;
    const usableH = vh - marginTop - marginBottom - h;

    let left = marginX + (usableW * x01);
    let top  = marginTop + (usableH * y01);

    // ë“œë˜ê·¸ ì œí•œê³¼ ë¹„ìŠ·í•˜ê²Œ í™”ë©´ ë°– ì•ˆ ë‚˜ê°€ê²Œ í´ë¨í”„
    const maxX = vw - 60;
    const maxY = vh - 120;
    left = clamp(left, -40, maxX);
    top  = clamp(top,  -20, maxY);

    win.style.left = left + "px";
    win.style.top  = top  + "px";
  }

  function autoLayout(){
    // ì‚¬ìš©ìê°€ í•œ ë²ˆì´ë¼ë„ ì›€ì§ì˜€ìœ¼ë©´ ì¬ë°°ì¹˜ ì•ˆ í•¨(ì‚¬ìš©ì ë°°ì¹˜ ì¡´ì¤‘)
    if(hasUserMoved) return;

    // í‚¤ë¡œ ì°¾ì•„ì„œ ë°°ì¹˜
    const byKey = {};
    wins.forEach(w => { byKey[w.dataset.key] = w; });

    const vw = window.innerWidth;

    // âœ… PC(ê°€ë¡œ ë„“ìŒ): â€œí¼ì§€ê²Œâ€ + w10(0722_1029_010.mp4)ì€ ìš°í•˜ë‹¨
    if(vw >= 1100){
      if(byKey.notice) place(byKey.notice, 0.02, 0.03);
      if(byKey.yt)     place(byKey.yt,     0.05, 0.45);

      if(byKey.w1)     place(byKey.w1,     0.22, 0.12);
      if(byKey.w2)     place(byKey.w2,     0.50, 0.15);
      if(byKey.w3)     place(byKey.w3,     0.28, 0.42);

      if(byKey.w4)     place(byKey.w4,     0.05, 0.78);
      if(byKey.w5)     place(byKey.w5,     0.35, 0.80);

      if(byKey.w7)     place(byKey.w7,     0.78, 0.10);
      if(byKey.w6)     place(byKey.w6,     0.70, 0.45);
      if(byKey.w8)     place(byKey.w8,     0.80, 0.62);

      // âœ… ë„¤ê°€ ë§í•œ â€œ10ë²ˆ(ê°€ë¦¬ëŠ” ì°½)â€ ìš°í•˜ë‹¨ìœ¼ë¡œ
      if(byKey.w10)    place(byKey.w10,    0.72, 0.82);
      return;
    }

    // âœ… íƒœë¸”ë¦¿/ì¤‘ê°„ í™”ë©´: 2ì—´ ëŠë‚Œìœ¼ë¡œ ëœ ê²¹ì¹˜ê²Œ
    if(vw >= 700){
      if(byKey.notice) place(byKey.notice, 0.03, 0.03);
      if(byKey.yt)     place(byKey.yt,     0.03, 0.55);

      if(byKey.w1)     place(byKey.w1,     0.45, 0.10);
      if(byKey.w2)     place(byKey.w2,     0.45, 0.35);
      if(byKey.w3)     place(byKey.w3,     0.20, 0.30);

      if(byKey.w4)     place(byKey.w4,     0.03, 0.78);
      if(byKey.w5)     place(byKey.w5,     0.45, 0.78);

      if(byKey.w6)     place(byKey.w6,     0.70, 0.50);
      if(byKey.w7)     place(byKey.w7,     0.70, 0.05);
      if(byKey.w8)     place(byKey.w8,     0.70, 0.70);

      if(byKey.w10)    place(byKey.w10,    0.45, 0.60);
      return;
    }

    // âœ… ëª¨ë°”ì¼: ìœ„ì—ì„œë¶€í„° â€œê³„ë‹¨ì‹â€ìœ¼ë¡œ (ê²¹ì¹˜ê¸´ í•˜ì§€ë§Œ ë³´ê¸° ì¢‹ê²Œ)
    const order = ["notice","yt","w1","w2","w3","w4","w5","w6","w7","w8","w10"];
    let y = 0.03;
    order.forEach((k, i) => {
      const w = byKey[k];
      if(!w) return;
      place(w, (i % 2 ? 0.08 : 0.02), y);
      y += 0.07;
    });
  }

  // ì´ˆê¸° z ì ìš© + ë“œë˜ê·¸/í¬ì»¤ìŠ¤
  wins.forEach(win => {
    const initZ = parseInt(win.getAttribute("data-z") || "0", 10);
    win.style.zIndex = 50 + initZ;

    win.addEventListener("pointerdown", () => bringToFront(win));

    const bar = win.querySelector(".titlebar");
    let dragging = false;
    let startX = 0, startY = 0;
    let winX = 0, winY = 0;

    bar.addEventListener("pointerdown", (e) => {
      bringToFront(win);
      dragging = true;
      hasUserMoved = true; // âœ… ì‚¬ìš©ìê°€ ì›€ì§ì˜€ìœ¼ë‹ˆ ì´ì œ ìë™ë°°ì¹˜ ê¸ˆì§€
      bar.setPointerCapture(e.pointerId);

      const rect = win.getBoundingClientRect();
      startX = e.clientX;
      startY = e.clientY;
      winX = rect.left;
      winY = rect.top;

      e.preventDefault();
    });

    bar.addEventListener("pointermove", (e) => {
      if(!dragging) return;

      const dx = e.clientX - startX;
      const dy = e.clientY - startY;

      let nx = winX + dx;
      let ny = winY + dy;

      const maxX = window.innerWidth - 60;
      const maxY = window.innerHeight - 120;
      nx = Math.min(Math.max(nx, -40), maxX);
      ny = Math.min(Math.max(ny, -20), maxY);

      win.style.left = nx + "px";
      win.style.top  = ny + "px";
    });

    bar.addEventListener("pointerup", () => dragging = false);
    bar.addEventListener("pointercancel", () => dragging = false);
  });

  // âœ… ì²« ë¡œë”© ë•Œë§Œ ìë™ë°°ì¹˜
  window.addEventListener("load", () => {
    autoLayout();
  });

  // ë¦¬ì‚¬ì´ì¦ˆ ì‹œì—ë„ â€œì‚¬ìš©ìê°€ ì•ˆ ê±´ë“œë ¸ì„ ë•Œë§Œâ€ ë‹¤ì‹œ ë°°ì¹˜
  window.addEventListener("resize", () => {
    autoLayout();
  });

  // ===== ì‹œê³„ =====
  const clock = document.getElementById("clock");
  function tick(){
    const d = new Date();
    const hh = String(d.getHours()).padStart(2,"0");
    const mm = String(d.getMinutes()).padStart(2,"0");
    clock.textContent = `${hh}:${mm}`;
  }
  tick();
  setInterval(tick, 1000 * 10);

  // ===== ìœ íŠœë¸Œ ì†Œë¦¬ ë²„íŠ¼(iframe src í† ê¸€) =====
  const ytFrame = document.getElementById("ytFrame");
  const soundBtn = document.getElementById("ytSoundBtn");
  let isMuted = true;

  soundBtn.addEventListener("click", (e) => {
    e.stopPropagation();
    const url = new URL(ytFrame.src);
    url.searchParams.set("mute", isMuted ? "0" : "1");
    ytFrame.src = url.toString();

    isMuted = !isMuted;
    soundBtn.textContent = isMuted ? "ğŸ”‡" : "ğŸ”Š";
  });
</script>
</body>
  </html>
