<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Dear Miracle</title>
  <style>
    /* ====== ê¸°ì¡´ ë””ìì¸ ê·¸ëŒ€ë¡œ ìœ ì§€ ====== */
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      font-family: Tahoma, Verdana, Arial, sans-serif;
      overflow: hidden;
      background: #000;
    }
    :root{
      --titlebar-top: #f7f7f7;
      --titlebar-bot: #e9e9e9;
      --frame: rgba(255,255,255,0.60);
      --glass: rgba(255,255,255,0.40);
      --border: rgba(0,0,0,0.30);
      --shadow: 0 12px 30px rgba(0,0,0,0.22);
      --shadow-strong: 0 18px 46px rgba(0,0,0,0.30);
      --text: #1b1b1b;
      --muted: rgba(0,0,0,0.55);
    }
    .wallpaper {
      position: fixed;
      inset: 0;
      background-image: url("bg.png");
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
      filter: saturate(0.95) contrast(0.98);
      transform: scale(1.02);
    }
    .wallpaper::after{
      content:"";
      position:absolute;
      inset:0;
      background:
        radial-gradient(1200px 600px at 20% 15%, rgba(255,255,255,0.30), transparent 60%),
        radial-gradient(900px 500px at 80% 25%, rgba(255,255,255,0.22), transparent 55%),
        radial-gradient(900px 700px at 55% 80%, rgba(255,255,255,0.18), transparent 60%),
        linear-gradient(to bottom, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      pointer-events:none;
    }
    .desk { position: fixed; inset: 0; pointer-events: none; }
    .win {
      position: absolute;
      width: 420px;
      border-radius: 10px;
      overflow: hidden;
      box-shadow: var(--shadow);
      border: 1px solid var(--border);
      background: var(--frame);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      pointer-events: auto;
      user-select: none;
    }
    .titlebar {
      height: 30px;
      display: flex; align-items: center; justify-content: space-between;
      padding: 0 8px 0 10px;
      background: linear-gradient(to bottom, var(--titlebar-top), var(--titlebar-bot));
      border-bottom: 1px solid rgba(0,0,0,0.18);
      color: #222; cursor: grab;
    }
    .titlebar:active { cursor: grabbing; }
    .title-left { display: flex; align-items: center; gap: 8px; }
    .dot {
      width: 10px; height: 10px; border-radius: 2px;
      border: 1px solid rgba(0,0,0,0.22);
      background: rgba(255,255,255,0.75);
    }
    .content { background: var(--glass); padding: 8px; }
    .note {
      padding: 10px 10px 12px;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.14);
      background: rgba(255,255,255,0.62);
      color: #222;
      font-size: 13px;
      line-height: 1.35;
    }
    .note b { display:block; margin-bottom: 6px; }
    .note ul { margin: 8px 0 0 18px; padding:0; }
    .note li { margin: 3px 0; }
    .note a { color:#0b57d0; text-decoration: underline; }
    .taskbar {
      position: fixed; left:0; right:0; bottom:0;
      height: 44px; display:flex; align-items:center;
      gap:10px; padding:0 12px;
      background: rgba(255,255,255,0.55);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0,0,0,0.18);
    }
    .start {
      height: 30px; padding: 0 12px; border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.22);
      background: rgba(255,255,255,0.80);
      font-weight: 700; font-size: 12px;
      display:flex; align-items:center; cursor:pointer;
    }
    .brand { font-size: 13px; color: #222; font-weight: 700; }
    .clock { font-size: 12px; color: rgba(0,0,0,0.65); }
  </style>
</head>

<body>
  <div class="wallpaper"></div>
  <div class="desk" id="desk">
    <div class="win is-front" style="left:18px; top:18px; width:260px;">
      <div class="titlebar">
        <div class="title-left"><div class="dot"></div><div class="title">êµ¬ì¸ ê²Œì‹œíŒ</div></div>
      </div>
      <div class="content">
        <div class="note">
          <b>Dear Miracle</b>
          ê°€ê°œì¥ ê¸°ê°„ ë™ì•ˆë§Œ ìš´ì˜í•©ë‹ˆë‹¤.
          <ul>
            <li>êµ¬ì¸ê²Œì‹œíŒ: ì „ì²´ ê³µê°œ</li>
            <li>ì»¨íƒ: ë¹„ë°€ëŒ“ê¸€(ê´€ë¦¬ì+ê¸€ì“´ì´)</li>
            <li>ì™„ë£Œ ì‹œ ê´€ê³„ë€ í•œ ì¤„ ê¸°ì¬</li>
          </ul>
          <div style="margin-top:10px;">
            ğŸ‘‰ <a href="#" id="loadPosts">ê²Œì‹œíŒ ë“¤ì–´ê°€ê¸°</a>
          </div>
          <ul id="postList" style="margin-top:10px;"></ul>
        </div>
      </div>
    </div>
  </div>

  <div class="taskbar">
    <div class="start" onclick="alert('Start ë©”ë‰´ëŠ” ë‹¤ìŒ ë‹¨ê³„ì—ì„œ!')">Start</div>
    <div class="brand">JJKR COMMUNITY</div>
    <div class="clock" id="clock">--:--</div>
  </div>

  <!-- ===== Firebase ì—°ê²° (script íƒœê·¸ ë°©ì‹) ===== -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-app.js";
    import { getFirestore, collection, getDocs } from "https://www.gstatic.com/firebasejs/10.13.1/firebase-firestore.js";

    const firebaseConfig = {
      apiKey: "AIzaSyA...ë„ˆì˜í‚¤...",
      authDomain: "dear-miracle.firebaseapp.com",
      projectId: "dear-miracle",
      storageBucket: "dear-miracle.appspot.com",
      messagingSenderId: "793139917614",
      appId: "1:793139917614:web:cb67465afa0d16f740bf",
      measurementId: "G-VF22L8ZR6D"
    };

    const app = initializeApp(firebaseConfig);
    const db = getFirestore(app);

    // ===== Firestore ê²Œì‹œê¸€ ë¶ˆëŸ¬ì˜¤ê¸° =====
    async function loadPosts() {
      const postList = document.getElementById("postList");
      postList.innerHTML = "<li>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</li>";

      const querySnapshot = await getDocs(collection(db, "posts"));
      postList.innerHTML = "";

      querySnapshot.forEach((doc) => {
        const data = doc.data();
        const li = document.createElement("li");
        li.textContent = `${data.title} â€” ${data.author}`;
        postList.appendChild(li);
      });
    }

    document.getElementById("loadPosts").addEventListener("click", (e) => {
      e.preventDefault();
      loadPosts();
    });

    // ===== ì‹œê³„ =====
    const clock = document.getElementById("clock");
    function tick(){
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,"0");
      const mm = String(d.getMinutes()).padStart(2,"0");
      clock.textContent = `${hh}:${mm}`;
    }
    tick();
    setInterval(tick, 10000);
  </script>
</body>
</html>
