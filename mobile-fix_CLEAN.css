/* mobile-fix.css
   - Mobile-only layout + wallpaper tap hint
   - Keeps desktop look untouched
*/

@media (max-width: 768px) {
  html, body { height: 100%; }
  body { overflow: hidden; }

  .wallpaper{
    position: fixed;
    inset: 0;
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    z-index: 0;
  }

  #desk{ position: relative; z-index: 1; }

  /* Hide photo/media windows on mobile (they become the wallpaper) */
  .win[data-key^="w"]{ display: none !important; }

  /* Hide old “mute/unmute” helper window on mobile */
  .win[data-key="dm-notice"]{ display: none !important; }

  .win[data-key="notice"]{
    width: min(92vw, 430px) !important;
    left: 50% !important;
    top: 6vh !important;
    transform: translateX(-50%) !important;
    z-index: 9990 !important;
  }

  .win[data-key="messenger"]{
    width: min(90vw, 380px) !important;
    left: 50% !important;
    top: 56vh !important;
    transform: translateX(-50%) !important;
    z-index: 9980 !important;
  }

  /* Two action buttons same width (no style changes) */
  .win[data-key="messenger"] .actions,
  .win[data-key="messenger"] .btn-row,
  .win[data-key="messenger"] .messenger-actions{
    display: flex !important;
    gap: 12px !important;
  }
  .win[data-key="messenger"] .actions button,
  .win[data-key="messenger"] .btn-row button,
  .win[data-key="messenger"] .messenger-actions button{
    flex: 1 1 0 !important;
    width: auto !important;
  }

  .win[data-key="notice"] .content{
    font-size: 16px !important;
    line-height: 1.35 !important;
  }

  .dm-fab{ z-index: 9999 !important; }

  #mobileHint{
    position: fixed;
    left: 50%;
    bottom: 18px;
    transform: translateX(-50%);
    z-index: 10000;
    background: rgba(0,0,0,0.55);
    color: #fff;
    padding: 10px 14px;
    border-radius: 999px;
    font-size: 13px;
    line-height: 1.2;
    backdrop-filter: blur(6px);
    -webkit-backdrop-filter: blur(6px);
    pointer-events: none;
    opacity: 1;
    transition: opacity 220ms ease, transform 220ms ease;
  }
  #mobileHint.hidden{
    opacity: 0;
    transform: translateX(-50%) translateY(10px);
  }
}



/* ===== Mobile mini YouTube player (mobile only) ===== */
@media (max-width: 768px){
  #ytWin{
    position: fixed !important;
    right: 14px !important;
    bottom: 84px !important; /* above the messenger FAB */
    left: auto !important;
    top: auto !important;

    width: min(72vw, 320px) !important;
    height: auto !important;

    z-index: 9998 !important;
  }

  /* Make it look like a mini player (hide titlebar, keep content) */
  #ytWin .titlebar{
    padding: 6px 10px !important;
  }
  #ytWin .titlebar .title{
    max-width: 180px !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
  }
  #ytWin iframe{
    width: 100% !important;
    height: 160px !important;
    border-radius: 14px !important;
    overflow: hidden !important;
  }
}

/* Smaller phones */
@media (max-width: 480px){
  #ytWin{
    width: 240px !important;
  }
  #ytWin iframe{
    height: 140px !important;
  }
}

/* =========================
   Floating Stickers Layer
   ========================= */

#sticker-layer{
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 2;
}

.sticker{
  position: absolute;
  width: 32px; /* ← 크기 절반 */
  height: auto;
  opacity: 0.6; /* ← 투명도 조금 낮춤 */
  animation: floatY 4s ease-in-out infinite;
  filter: drop-shadow(0 4px 10px rgba(0,0,0,.18));
}

@keyframes floatY{
  0%   { transform: translateY(0); }
  50%  { transform: translateY(-10px); }
  100% { transform: translateY(0); }
}

.sticker.v1{ animation-duration: 3.4s; }
.sticker.v2{ animation-duration: 4.0s; }
.sticker.v3{ animation-duration: 4.8s; }

/* 창 상단 버튼 3개에 아이콘 입히기 */
.title-btns .btn{
  background-repeat: no-repeat;
  background-position: center;
  background-size: 14px 14px;
}

/* 1번째=최소화 */
.title-btns .btn:nth-child(1){
  background-image: url("assets/icons/window-minimize.png");
}

/* 2번째=최대화 */
.title-btns .btn:nth-child(2){
  background-image: url("assets/icons/maximize.png");
}

/* 3번째=닫기 */
.title-btns .btn:nth-child(3){
  background-image: url("assets/icons/close.png");
}

/* 창 컨트롤 버튼 미감 조정 */
.title-btns {
  transform: scale(0.75);
  transform-origin: right top; /* 오른쪽 상단 기준으로 줄이기 */
  opacity: 0.55;
}

/* =========================
   BG FX Layer (PC only)
   wallpaper < fx-layer < windows
========================= */

#fx-layer{
  position: fixed;
  inset: 0;
  z-index: 2;              /* wallpaper보다 위, 창들보다 아래로 맞추기 */
  pointer-events: none;    /* 창 클릭/드래그 방해 금지 */
  overflow: hidden;
}

/* 혹시 창 z-index가 낮아서 fx가 위로 올라오면,
   .win 쪽 z-index를 더 크게 잡아주면 됨 (기존 코드에 이미 있을 확률 높음) */

.fx-cloud{
  position: absolute;
  top: 8%;
  width: min(900px, 70vw);     /* 크게 */
  height: min(420px, 30vw);
  background-repeat: no-repeat;
  background-position: center;
  background-size: contain;
  opacity: 0.22;               /* 15~30% 사이 */
  filter: blur(0.2px);         /* 살짝만 부드럽게(취향) */
  will-change: transform;
}

.fx-cloud.cloud1{
  left: -15%;
  background-image: url("assets/stickers/cloud1.png");
  animation: cloudBob1 18s ease-in-out infinite;
}

.fx-cloud.cloud2{
  right: -18%;
  top: 14%;
  width: min(1000px, 78vw);
  height: min(460px, 34vw);
  background-image: url("assets/stickers/cloud2.png");
  opacity: 0.18;
  animation: cloudBob2 22s ease-in-out infinite;
}

/* 버블: 느리게 흐르는 느낌 */
.fx-bubbles{
  position: absolute;
  inset: -10% -10% -10% -10%;
  background-image: url("assets/stickers/bubbles.png");
  background-repeat: repeat;
  background-size: 520px auto;  /* 크게: 값 조절하면 밀도 바뀜 */
  opacity: 0.18;
  will-change: transform;
  animation: bubblesDrift 60s linear infinite;
}

/* 애니메이션들 */
@keyframes cloudBob1{
  0%   { transform: translate3d(0, 0, 0); }
  50%  { transform: translate3d(0, 18px, 0); }
  100% { transform: translate3d(0, 0, 0); }
}

@keyframes cloudBob2{
  0%   { transform: translate3d(0, 0, 0); }
  50%  { transform: translate3d(0, -14px, 0); }
  100% { transform: translate3d(0, 0, 0); }
}

@keyframes bubblesDrift{
  0%   { transform: translate3d(0, 0, 0); }
  100% { transform: translate3d(160px, -120px, 0); } /* 느리게 “흐름” */
}

/* 모바일에서는 끄기 (너 UX 설계 존중) */
@media (max-width: 980px){
  #fx-layer{ display: none; }
}

.fx-cloud,
.fx-bubbles{
  position: absolute;
  opacity: 0.2;   /* 15~30% 사이 */
  filter: blur(0.5px);
}

.fx-cloud{
  width: 120vw;          /* 창보다 훨씬 크게 */
  height: 40vh;
  background-repeat: no-repeat;
  background-size: contain;
}
.cloud1{
  background-image: url("assets/stickers/cloud1.png");
  top: -10%;
  animation: cloudFloat1 120s linear infinite;
}
.cloud2{
  background-image: url("assets/stickers/cloud2.png");
  bottom: -15%;
  animation: cloudFloat2 160s linear infinite;
}

.fx-bubbles{
  width: 100%;
  height: 100%;
  background: url("assets/stickers/bubbles.png") repeat;
  background-size: 300px;
  animation: bubbleDrift 180s linear infinite;
  opacity: 0.15;
}
@keyframes cloudFloat1{
  0%{ transform: translateY(0); }
  50%{ transform: translateY(30px); }
  100%{ transform: translateY(0); }
}

@keyframes cloudFloat2{
  0%{ transform: translateY(0); }
  50%{ transform: translateY(-40px); }
  100%{ transform: translateY(0); }
}

@keyframes bubbleDrift{
  from{
    background-position: 0 0;
  }
  to{
    background-position: 500px -800px;
  }
}
@media (max-width: 768px){
  #fx-layer{
    display: none;
  }
}
/* =========================
   메모 위젯 옷 (PC only)  ✅ updated ids
========================= */
#memoWin{
  position: fixed;
  left: 200px;
  bottom: 84px; /* 작업표시줄/DM버튼 겹침 방지용 여유 */
  width: 260px;

  background: rgba(255,255,255,0.75);
  backdrop-filter: blur(6px);

  border: 1px solid rgba(0,0,0,0.12);
  border-radius: 14px;

  box-shadow: 0 10px 26px rgba(0,0,0,0.12);

  z-index: 3; /* 창들보다 낮게 (win이 100+면 안전) */
}

#memoWin .memo-header{
  display:flex;
  align-items:center;
  justify-content:space-between;

  padding: 10px 12px 6px;

  font-size: 12px;
  font-weight: 700;
}

#memoWin .memo-actions{
  display:flex;
  gap: 6px;
}

#memoWin .memo-actions button{
  border: 1px solid rgba(0,0,0,0.15);
  background: rgba(255,255,255,0.65);

  border-radius: 10px;
  padding: 4px 8px;

  font-size: 11px;
  cursor: pointer;
}

#memoArea{
  width: calc(100% - 24px);
  margin: 0 12px 12px;

  height: 120px;
  resize: none;

  border: 1px solid rgba(0,0,0,0.12);
  border-radius: 12px;

  padding: 10px;

  font-size: 12px;
  line-height: 1.4;
  font-family: inherit;

  background: rgba(255,255,255,0.6);
}

/* Google Docs shortcut (floating) */
.docs-shortcut{
  position: fixed;
  left: 200px;
  bottom: 36px;

  width: 44px;
  height: 44px;

  border-radius: 14px;

  background: rgba(255,255,255,0.65);
  border: 1px solid rgba(0,0,0,0.12);
  backdrop-filter: blur(6px);

  box-shadow: 0 10px 26px rgba(0,0,0,0.12);

  display:flex;
  align-items:center;
  justify-content:center;

  z-index: 5; /* 메모보다 살짝 위 */
  text-decoration: none;
}

.docs-shortcut:hover{
  transform: translateY(-1px);
}

/* 모바일에서는 숨김 */
@media (max-width: 980px){
  #memoWin, .docs-shortcut{ display:none; }
}
